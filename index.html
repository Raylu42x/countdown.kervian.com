<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>New Year Countdown</title>

<style>
:root {
  --bg-dark:#020617;
  --fg:#f8fafc;
  --gold:#facc15;
  --gold-hot:#fde68a;
}

*{box-sizing:border-box;font-family:system-ui,sans-serif}

body{
  margin:0;
  min-height:100vh;
  background:radial-gradient(circle at top,#312e81,var(--bg-dark));
  color:var(--fg);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  text-align:center;
}

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
}

h1{
  letter-spacing:.12em;
}

#countdown{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:1.2rem;
  margin-top:2rem;
}

.box{
  background:rgba(255,255,255,.08);
  padding:1.3rem;
  border-radius:18px;
  backdrop-filter:blur(10px);
  transition:.5s;
}

.box span{
  font-size:3rem;
  font-weight:900;
  color:var(--gold);
  text-shadow:0 0 18px rgba(250,204,21,.7);
}

/* FINAL HOUR */
body.final-hour{
  background:radial-gradient(circle at top,#701a75,#020617);
}
body.final-hour .box{
  box-shadow:0 0 30px rgba(250,204,21,.6);
  transform:translateY(-4px);
}

/* FINAL MINUTE */
#secondsOnly{
  display:none;
  font-size:8rem;
  font-weight:900;
  color:var(--gold-hot);
  text-shadow:0 0 40px rgba(253,230,138,1);
}

/* FINAL 10 */
body.final-10 #secondsOnly{
  animation:pulse .6s infinite;
}

@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.15)}
}

button{
  margin-top:2rem;
  padding:.9rem 1.6rem;
  border:none;
  border-radius:14px;
  background:var(--gold);
  font-weight:900;
  cursor:pointer;
}

/* Mobile */
@media(max-width:700px){
  #countdown{
    grid-template-columns:repeat(2,1fr);
  }
}
</style>
</head>

<body>

<canvas id="fx"></canvas>

<h1>ðŸŽ† NEW YEAR COUNTDOWN ðŸŽ†</h1>

<div id="countdown">
  <div class="box"><span id="d">0</span><div>Days</div></div>
  <div class="box"><span id="h">0</span><div>Hours</div></div>
  <div class="box"><span id="m">0</span><div>Minutes</div></div>
  <div class="box"><span id="s">0</span><div>Seconds</div></div>
</div>

<div id="secondsOnly">60</div>

<button id="start">ðŸ”Š Enter Fullscreen & Enable Sound</button>

<audio id="tick" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-mechanical-bling-210.wav"></audio>
<audio id="boom" src="https://assets.mixkit.co/sfx/preview/mixkit-explosion-firework-1683.wav"></audio>

<script>
const d=d=document.getElementById("d"),
      h=document.getElementById("h"),
      m=document.getElementById("m"),
      s=document.getElementById("s"),
      secOnly=document.getElementById("secondsOnly");

const tick=document.getElementById("tick");
const boom=document.getElementById("boom");

const nextYear=new Date().getFullYear()+1;
const target=new Date(`${nextYear}-01-01T00:00:00`).getTime();

let soundEnabled=false;

/* Fullscreen + sound */
start.onclick=()=>{
  soundEnabled=true;
  if(document.documentElement.requestFullscreen)
    document.documentElement.requestFullscreen();
  start.remove();
};

function update(){
  const diff=target-Date.now();
  if(diff<=0){
    secOnly.textContent="ðŸŽ‰";
    boom.play();
    return;
  }

  const totalSec=Math.floor(diff/1000);
  const days=Math.floor(totalSec/86400);
  const hours=Math.floor(totalSec/3600)%24;
  const mins=Math.floor(totalSec/60)%60;
  const secs=totalSec%60;

  d.textContent=days;
  h.textContent=hours;
  m.textContent=mins;
  s.textContent=secs;

  if(totalSec<=3600) document.body.classList.add("final-hour");

  if(totalSec<=60){
    document.getElementById("countdown").style.display="none";
    secOnly.style.display="block";
    secOnly.textContent=secs;
    if(soundEnabled) tick.play();
  }

  if(totalSec<=10) document.body.classList.add("final-10");
}

setInterval(update,1000);
update();

/* Fireworks */
const c=document.getElementById("fx"),ctx=c.getContext("2d");
let sparks=[];
function resize(){c.width=innerWidth;c.height=innerHeight;}
onresize=resize;resize();

function boomFx(){
  for(let i=0;i<50;i++){
    sparks.push({
      x:Math.random()*c.width,
      y:Math.random()*c.height*.5,
      vx:(Math.random()-.5)*7,
      vy:(Math.random()-.5)*7,
      life:80
    });
  }
}
setInterval(boomFx,1000);

function draw(){
  ctx.clearRect(0,0,c.width,c.height);
  sparks.forEach(p=>{
    p.x+=p.vx;p.y+=p.vy;p.life--;
    ctx.beginPath();
    ctx.arc(p.x,p.y,2,0,Math.PI*2);
    ctx.fillStyle="rgba(250,204,21,.8)";
    ctx.fill();
  });
  sparks=sparks.filter(p=>p.life>0);
  requestAnimationFrame(draw);
}
draw();
</script>

</body>
</html>
